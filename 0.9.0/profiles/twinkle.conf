# Profile configuration file
#
# Simulation of Twinkle 1.4.2
#
# The values of branch, taq, call-id and cseq indicates the number of characters of each field.
# The program will fill it with the correct strings.
# branch value should be the max number of character minus 7 (the 7 first are fixed)

environment{
branch=8
tag=5
call-id=14
cseq=500
}

# Here is the configuration of each SIP message. In this example, the format (first REGISTER ...,
# second Via..., et cetera is an exact copy of the ones generated by Twinkle version 1.4.2.

register{
REGISTER sip:$registrar_ip$ SIP/2.0
Via: SIP/2.0/UDP $local_ip$:$local_port$;rport;branch=$branch$
Max-Forwards: 70
To: $user$ <sip:$extension$@$local_ip$>
From: $user$ <sip:$extension$@$local_ip$>;tag=$tag$
Call-ID: $call-id$@localhost
CSeq: $cseq$ REGISTER
Contact: <sip:$extension$@$local_ip$:$local_port$>;expires=3600
Allow: INVITE,ACK,BYE,CANCEL,OPTIONS,PRACK,REFER,NOTIFY,SUBSCRIBE,INFO,MESSAGE
User-Agent: Twinkle/1.4.2
Content-Length: 0
}

register_auth{
REGISTER sip:$registrar_ip$ SIP/2.0
Via: SIP/2.0/UDP $local_ip$:$local_port$;rport;branch=$branch$
Max-Forwards: 70
To: $user$ <sip:$extension$@$local_ip$>
From: $user$ <sip:$extension$@$local_ip$>;tag=$tag$
Call-ID: $call-id$@localhost
CSeq: $cseq$ REGISTER
Contact: <sip:$extension$@$local_ip$:$local_port$>;expires=3600
Authorization: Digest username=$user$,realm=$realm$,nonce=$nonce$,uri="sip:$registrar_ip$",response=$response$,algorithm=MD5
Allow: INVITE,ACK,BYE,CANCEL,OPTIONS,PRACK,REFER,NOTIFY,SUBSCRIBE,INFO,MESSAGE
User-Agent: Twinkle/1.4.2
Content-Length: 0
}

# Note: $via-options-received$ is replaced with the Via read from the OPTIONS received. The same happens with
# any finishing with "received"

options_ok{
SIP/2.0 200 OK
$via-options-received$
$to-options-received$;tag=$tag$
$from-options-received$
$call-id-options-received$
CSeq: 102 OPTIONS
Accept: application/sdp
Accept-Encoding: identity
Accept-Language: en
Allow: INVITE,ACK,BYE,CANCEL,OPTIONS,PRACK,REFER,NOTIFY,SUBSCRIBE,INFO,MESSAGE
Server: Twinkle/1.4.2
Supported: replaces,norefersub,100rel
Content-Length: 0
}


